###文本框脚本
在HTML中,有两种方式来表现文本框: 一种是使用`<input>`元素的单行文本框,另一种是使用`<textarea>`的多行文本框.

建议使用`obj.value`的方式来获取文本框中的内容,不建议使用标准的DOM方式(setAttribute()).因为对value属性所做的修改,不一定会反映在DOM中.

####选择文本
`<input>`和`<textarea>`两个文本框都支持`select()`方法,该方法用于选择文本框中的所有文本.在调用`select()`方法时,大多数浏览器(Opera除外)都会讲焦点设置到文本框中.

```javascript
var input = document.querySelector("input")

input.select()
```

在文本框获得焦点时选择其所有文本,特别是在文本框包含默认值的时候.这样就可以让用户不必一个一个删除文本了

**_注意,该方法选择的是value值,不是HTML5中placeholder的值_**

#####选择(select)事件
与`select()`方法对应,是一个`select`事件.在选择了文本框中的文本时,就会触发`select`事件.在IE9+,Opear,Firefox,Chrome和Safari中,只有用户选择了文本(而且要释放鼠标),才会触发`select`事件.在IE8中,不需要释放鼠标.

另外在调用`select()`方法时也会触发`select`事件

```html
<!DOCTYPE html>
<html>
<head>
    <title>Select Event Example</title>
</head>
<body>      
    <div>
        <label for="comments">Any comments?</label><br>
        <textarea rows="10" cols="50" id="comments" name="comments">Select some of this text.</textarea>
    </div>
    <input type="button" value="Select Text" id="select-btn">
    <script type="text/javascript">
        document.getElementById("comments").onselect = function(){
            alert("Text is selected!");
        }

        document.getElementById("select-btn").onclick = function(){
            document.getElementById("comments").select();
        }
    </script>
</body>
</html>
```

#####取得选择的文本
HTML5对文本框扩展了两个属性`selectionStart`和`selectionEnd`.这两个属性中保存的是基于0的数值,表示所选择文本的范围(及文本选取开头和结尾的偏移量)

IE9+,Firefox,Safari,Chrome和Opera都支持这两个属性

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <textarea>父节点卡拉胶发咖啡</textarea>

    <script>
        var textarea = document.querySelector('textarea')

        textarea.onselect = function(){
            alert(selectStr(textarea))
        }

        function selectStr(obj){
            if (typeof obj.selectionStart == "number"){
                return obj.value.substring(obj.selectionStart,obj.selectionEnd)
            } else if (document.selection){
                //此处兼容IE8
                return document.selection.createRange().text
            }
        }
    </script>
</body>
</html>
```

#####选择部分文本
HTML5为文本框扩展了`setSelectionRange()`方法从而选取部分文本.该方法接收两个参数: 要选择的第一个字符的索引和要选择的最后一个字符之后的字符的索引(类似于substring())方法

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <textarea>123123123</textarea>

    <script>
        var textarea = document.querySelector('textarea')

        textarea.onclick = function(){
            this.setSelectionRange(0,2)
            this.focus()
        }
    </script>
</body>
</html>
```

**_要看到选择的文本,必须在调用setSelectionRange()之前或之后立即将焦点设置到当前文本框上_**

支持IE9+,Firefox,Safari,Chrome和Opera

####过滤输入

#####屏蔽字符
只能输入数字,其他键无效,如下例子

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <input type="text">

    <script>
        var input = document.querySelector('input')

        input.onkeypress = function(event){
            var charCode = event.charCode
            if (!/\d/.test(String.fromCharCode(charCode)) && charCode > 9 && !event.ctrlKey){
                event.preventDefault()
            }
        }

        //为什么上面要charCode > 9 ?
        /*
            因为Firefox和Safari(3.1版本以前)会对上下键,退格键和删除键触发keypress事件.这意味着仅考虑屏蔽不是数值的字符还不够,还要避免屏蔽这些极为常用和必要的键.所幸,要检测这些键不难.在Firefox中,所有非字符键触发的keypress事件对应的字符编码为0,而在Safari3以前版本中,对应的字符编码全部为8
        */
    </script>
</body>
</html>
```

#####操作剪贴板


