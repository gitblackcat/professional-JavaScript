###闭包
闭包是指有权访问另一个函数作用域中的变量的函数.闭包是函数.常见的一种是在函数内部创建的函数

####如何创建作用域链以及作用域链有什么作用?
当某个函数被调用时,会创建一个执行环境以及相应的作用域链.然后,使用arguments和其他命名参数的值来初始化函数的活动对象.但在作用域链中,外部函数的活动对象始终处于第二位,外部函数的外部函数的活动对象处于第三位...直至作为作用域链终点的全局执行环境

```javascript
function compare(v1,v2){
    if( v1 < v2 ){
        return -1;
    }else if( v1 > v2 ){
        return 1;
    }else{
        return 0;
    }
}

var result = compare(5,10);
```

上述代码先定义了`compare()`函数,然后又在全局作用域中调用它.当调用`compare()`时,会创建一个包含`arguments/v/v2`的活动对象.全局执行环境的变量对象(包含`result`,`compare`)在`compare()`执行环境的作用域链中则处于第二位

![scope](img/scope1.png)

后台的每个执行环境都有一个表示变量的对象---变量对象.全局环境的变量对象始终存在,而像`compare()`函数这样的局部环境的变量对象,则只在函数执行的过程中存在.在创建`compare()`函数时,会创建一个预先包含全局变量对象的作用域链,这个作用域链被保存在内部的`[[Scope]]`属性中.当调用`compare()`函数时,会为函数创建一个执行环境,然后通过复制函数的`[[Scope]]`属性中的对象构建起执行环境的作用域链.此后,又有一个活动对象(在此作为变量对象使用)被创建并被推入执行环境作用域链的前端.对于上述例子中`compare()`函数的执行环境而言,其作用域链中包含两个变量对象: 本地活动对象和全局变量对象.

**_作用域链本质上是一个指向变量对象的指针列表,它只引用但不实际包含变量对象_**

一般来讲,当函数执行完毕后,局部活动对象就会被销毁,内存中仅保存全局作用域(全局执行环境的变量对象).

但闭包的情况又有所不同