<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
    function ajax(url, method) {
        var xhr = new XMLHttpRequest()
            // xhr.onreadystatechange = function() {
            //     console.log('xhr.readyState:' + this.readyState)
            // }
            // xhr.onloadstart = function(e) {
            //     console.log(e)
            // }
            // xhr.onload = function() {
            //     console.log(xhr.responseText)
            // }
            // xhr.onprogress = function(e) {
            //     console.log('progress:', e.loaded / e.total)
            //     console.log(xhr.readyState)
            // }

        // xhr.onload = function() {
        //     console.log(xhr.responseText)
        //     console.log(xhr.responseType)
        //     console.log(xhr.responseURL)
        // }
        xhr.onreadystatechange = function() {
            console.log(xhr.readyState)
            console.log(xhr.getResponseHeader('Cache-Control'))
            if (this.readyState == this.HEADERS_RECEIVED) {
                console.log(this.getAllResponseHeaders());
            }
        }
        xhr.open(method, url, true)
        xhr.setRequestHeader("Content-type", "application/json")
        xhr.send()
        xhr.abort()
    }
    var timer = setTimeout(function() {
        console.log('setTimeout')
    }, 0)
    ajax('http://www.easy-mock.com/mock/590089cf875d7232a38b20d9/example/num', 'GET')
    console.warn('这里的log并不是最先打印出来的.')
    </script>
</body>

</html>
